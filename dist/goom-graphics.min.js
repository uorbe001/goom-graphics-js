define("geometry",[],function(){var a=function(){function a(a,b,c){var d,e,f,g,h,i;this.program=b;switch(c.type.toLowerCase()){case"sphere":break;case"box":for(i=0;i<=7;i++)f=multipliers[i][0]*c.halfSize.x,g=multipliers[i][1]*c.halfSize.y,h=multipliers[i][2]*c.halfSize.z,d.push(f,g,h);e=[0,1,2,0,2,3,4,5,6,4,6,7,0,4,7,0,7,1,1,7,6,1,6,2,2,6,5,2,5,3,4,0,3,4,3,5];break;case"plane":break;default:throw"Unkwnown geometry type"}this.vertexBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array(d),a.STATIC_DRAW),this.indexBuffer=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),a.STATIC_DRAW)}return a.multipliers=[[1,1,-1],[1,-1,-1],[-1,-1,-1],[-1,1,-1],[1,1,1],[-1,1,1],[-1,-1,1],[1,-1,1]],a.prototype.drawInstance=function(a,b,c,d){a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.useProgram(this.program),a.enableVertexAttribArray(this.program.attributes.aPosition),a.vertexAttribPointer(this.program.attributes.aPosition,3,a.FLOAT,!1,0,0),a.uniformMatrix4fv(this.program.uniforms.uProjectionMatrix,!1,b.data),a.uniformMatrix4fv(this.program.uniforms.uViewMatrix,!1,c.data),a.uniformMatrix4fv(this.program.uniforms.uModelMatrix,!1,d.data),a.drawElements(a.TRIANGLES,this.indexBuffer.length,a.UNSIGNED_SHORT,0)},a}();return a}),define("utils",[],function(){return Utils={},Utils.createShader=function(a,b,c){var d=a.createShader(b);a.shaderSource(d,c),a.compileShader(d);if(!a.getShaderParameter(d,a.COMPILE_STATUS)){var e=a.getShaderInfoLog(d);throw"Could not compile shader.\n "+e}return d},Utils.deleteShader=function(a,b){return a.deleteShader(b)},Utils.createProgram=function(a,b,c){var d,e;try{d=Utils.createShader(a,a.VERTEX_SHADER,b),e=Utils.createShader(a,a.FRAGMENT_SHADER,c)}catch(f){throw f}var g=a.createProgram();a.attachShader(g,d),a.attachShader(g,e),a.linkProgram(g);if(!a.getProgramParameter(g,a.LINK_STATUS))throw"Could not link shader program using the given vertex shader and fragment shader.";var h=b.match(/uniform\s+[^\s]+\s+[^(\s|;)]+;/g),i=c.match(/uniform\s+[^\s]+\s+[^(\s|;)]+;/g),j,k,l,m,n,o;if(i!==null)for(j=0,k=i.length;j<k;j++)h.indexOf(i[j])===-1&&h.push(i[j]);g.uniforms={};for(j=0,k=h.length;j<k;j++)l=h[j],m=l.match(/uniform\s+[^\s]+\s+([^(\s|;)]+);/)[1],g.uniforms[m]=a.getUniformLocation(g,m);h=b.match(/attribute\s+[^\s]+\s+[^(\s|;)]+;/g),g.attributes={};for(j=0,k=h.length;j<k;j++)n=h[j],o=n.match(/attribute\s+[^\s]+\s+([^(\s|;)]+);/)[1],g.attributes[o]=a.getAttribLocation(g,o);return g},Utils.deleteProgram=function(a,b){return a.deleteProgram(b)},Utils.createTexture=function(a,b){var c;return c=a.createTexture(),a.bindTexture(a.TEXTURE_2D,c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_NEAREST),a.generateMipmap(a.TEXTURE_2D),c},Utils.deleteTexture=function(a,b){return a.deleteTexture(b)},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Utils}),define("goom-graphics",["./geometry","./utils"],function(a,b){var c={};return c.Geometry=a,c.Utils=b,c})